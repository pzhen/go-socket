# go-socket

简介:

1.解决高并发下客户端消息的推送,客户端接入更简单,无需告知服务器是否中断通信,
服务器为每个client发送心跳检测,自动识别.

2.可以分别部署到多个机器,策略是计算用户ID哈希值,将其建立连接时分到指定的机器
当服务器发送消息时,往所有机器的/message接口推送即可


# go-socket

golang 实现的横向可扩展消息推送程序

# 简介

1.采用golang实现消息并发推送到客户端,
2.客户端接入更简单,无需告知服务器是否中断通信,服务器为每个client发送心跳检测,自动识别.
3.结合 Nginx 转发,可实现分布式部署

# 运行

```
go run main.go
```

# 潜在问题

* 1. 目前只是实现了"单播", 后续添加"广播"接口

* 2. 如果在线人数较多时,用户的频繁上线下线会导致队列的不停的枷锁解锁,导致性能下降
     
    可以将在线人数打散到多个队列,减小推送遍历的锁粒度,并发处理
    
* 3. 计算机本身的发包瓶颈,以及解码编码资源的损耗问题

    消息前置合并, 减少编码CPU损耗, 减少系统网络调用

